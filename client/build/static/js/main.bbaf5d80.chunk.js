(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{31:function(e,t,a){},32:function(e,t,a){},39:function(e,t,a){e.exports=a(67)},44:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),s=a.n(c),o=(a(44),a(8)),l=a(16),i=a(2),u=a(3),m=a(6),d=a(5),p=a(33),h=a(9),f=a.n(h),E=a(11),g="http://localhost:5000",v=a(4),y=(a(31),a(19)),b=a.n(y),N=Object(l.g)((function(e){var t="/"===e.match.url?"/products/all":e.match.url;return r.a.createElement(o.b,{className:"text-link",to:"".concat(t,"/").concat(e.slug)},r.a.createElement("div",{className:"Product"},r.a.createElement("div",{className:"ProductImage"},r.a.createElement("img",{alt:"",src:e.productPic[0].img})),r.a.createElement("div",null,r.a.createElement("div",{className:"product-name"},"\xa0\xa0 ",e.name),r.a.createElement("div",{className:"star-rating"},r.a.createElement(b.a,{name:"rating",starCount:5,editing:!1,value:e.rating,renderStarIcon:function(){return r.a.createElement("i",{className:"fa fa-star fa-xs","aria-hidden":"true"})}})),r.a.createElement("div",{className:"product-price"},"\xa0\xa0 $ ",e.price))))})),O=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={slug:"All Products"},e.getProducts=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.props.getProducts(t,a).then((function(t){console.log(t),e.setState({products:t.message})}))},e.applyFilter=function(t){var a="all"===e.props.match.params.slug?"":e.props.match.params.slug;e.getProducts(a,t)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e="all"===this.props.match.params.slug?"":this.props.match.params.slug;this.getProducts(e),this.props.getCategories()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.slug!==e.match.params.slug&&this.getProducts(this.props.match.params.slug)}},{key:"categoryTree",value:function(e){var t,a=[],n=Object(p.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value;a.push(r.a.createElement("li",{key:c.slug},r.a.createElement(o.b,{className:"text-link",to:"/products/".concat(c.slug)},c.name),c.children.length>0?r.a.createElement("ul",null,this.categoryTree(c.children)):null))}}catch(s){n.e(s)}finally{n.f()}return a}},{key:"render",value:function(){var e=Object.keys(this.props.match.params).length>0?this.props.match.params.slug:this.state.slug;return r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"ContentTitle"},r.a.createElement("h2",{className:"CategoryTitle"},e)),r.a.createElement("div",{className:"ContentBody"},r.a.createElement("div",{className:"SideMenu"},r.a.createElement("h3",{className:"SideMenuTitle"},"Filters"),r.a.createElement("div",{className:"Filter"},r.a.createElement("p",{className:"FilterTitle"},"Categories"),r.a.createElement("ul",{className:"list-unstyled"},this.props.products.categories.length>0?this.categoryTree(this.props.products.categories):null))),r.a.createElement("div",{className:"MainContent"},r.a.createElement("div",{className:"ProductArea"},this.props.products.products.map((function(e){return r.a.createElement(N,{key:e._id,id:e._id,name:e.name,price:e.price,productPic:e.productPic,slug:e.slug,rating:e.rating})}))))))}}]),a}(n.Component),w=Object(v.b)((function(e){return{products:e.products}}),(function(e){return{getProducts:function(t,a){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return function(){var a=Object(E.a)(f.a.mark((function a(n){var r,c,s,o;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,e="all"===e?"":e,r="",t){for(c in r="?filter=1&",t)r+="".concat(c,"=").concat(t[c],"&");r=r.substring(0,r.length-1)}return a.next=6,fetch("".concat(g,"/products/").concat(e).concat(r));case 6:return s=a.sent,a.next=9,s.json();case 9:return o=a.sent,200===s.status&&n({type:"GET_PRODUCTS",products:o.message}),console.log(o.message),a.abrupt("return",o);case 15:a.prev=15,a.t0=a.catch(0),console.log(a.t0);case 18:case"end":return a.stop()}}),a,null,[[0,15]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))},getCategories:function(){return e((function(e){fetch("".concat(g,"/category"),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"GET_PRODUCT_CATEGORIES",categories:t.message})})).catch((function(e){console.log(e)}))}))}}}))(O),k=function(){return function(e){var t=window.localStorage.getItem("auth");if(t){var a=JSON.parse(t);if(a.hasOwnProperty("token")&&""!==a.token)return e({type:"AUTHENTICATE_USER",auth:a}),Promise.resolve(!0)}return Promise.resolve(!1)}},C=(a(52),a(53),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.getToken()}},{key:"render",value:function(){var e,t=this,a=r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement(o.b,{className:"text-link",to:"/cart"},r.a.createElement("i",{className:"fa fa-shopping-cart"})," ( ",this.props.cartCount," ) ")))),n=r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},r.a.createElement("li",{className:"dropdown-item"},r.a.createElement(o.b,{className:"text-link",to:"/signup"},r.a.createElement("i",{className:"fa fa-user-plus"}),"\xa0\xa0",r.a.createElement("span",null,"Register"))),r.a.createElement("li",{className:"dropdown-item"},r.a.createElement(o.b,{className:"text-link",to:"/login"},r.a.createElement("i",{className:"fa fa-sign-in"}),"\xa0\xa0",r.a.createElement("span",null,"Login"))));return this.props.auth.isAuthenticated&&(n=r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},r.a.createElement("li",{className:"dropdown-item"},r.a.createElement(o.b,{className:"text-link",to:"/orders"},r.a.createElement("i",{className:"fa fa-list-alt"}),"\xa0\xa0",r.a.createElement("span",null,"Orders"))),r.a.createElement("li",{className:"dropdown-item"},r.a.createElement(o.b,{className:"text-link",to:"",onClick:function(){return t.props.logout()}},r.a.createElement("i",{className:"fa fa-sign-out"}),"\xa0\xa0",r.a.createElement("span",null,"Logout"))))),this.props.auth.isAuthenticated&&this.props.auth.user.isAdmin&&(a=null,n=r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},r.a.createElement("li",{className:"dropdown-item"},r.a.createElement(o.b,{className:"text-link",to:"",onClick:function(){return t.props.logout()}},r.a.createElement("i",{className:"fa fa-sign-out"}),"\xa0\xa0",r.a.createElement("span",null,"Logout")))),e=r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement(o.b,{to:"/addcategory",className:"text-link"},"Categories Management"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement(o.b,{to:"/addmanager",className:"text-link"},"Managers Management"))))),this.props.auth.isAuthenticated&&this.props.auth.user.isManager&&(a=null,n=r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},r.a.createElement("li",{className:"dropdown-item"},r.a.createElement(o.b,{className:"text-link",to:"",onClick:function(){return t.props.logout()}},r.a.createElement("i",{className:"fa fa-sign-out"}),"\xa0\xa0",r.a.createElement("span",null,"Logout")))),e=r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement(o.b,{to:"/addproduct",className:"text-link"},"Products Management"))))),r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand brand"},r.a.createElement(o.b,{className:"text-link",to:"/"},"Fashion House")),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse w-100 order-1 order-md-0 dual-collapse2",id:"navbarNavDropdown"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},e),r.a.createElement("ul",{className:"navbar-nav ml-auto"},a,r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(o.b,{className:"nav-link dropdown-toggle text-link",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",to:"/account"},r.a.createElement("i",{className:"fa fa-user-circle-o"}),"\xa0\xa0",this.props.auth.isAuthenticated?this.props.auth.user.firstName:"My Account","\xa0\xa0"),n)),r.a.createElement("ul",null,"\xa0")))}}]),a}(n.Component)),j=Object(v.b)((function(e){return{auth:e.auth,cart:e.cart}}),(function(e){return{getToken:function(){return e(k())}}}))(C),A=function(e,t){return function(){var a=Object(E.a)(f.a.mark((function a(n){var r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat(g,"/cart/user/").concat(t),{headers:{"Content-Type":"application/json","auth-token":e},method:"POST"});case 3:return r=a.sent,a.next=6,r.json();case 6:return c=a.sent,200===r.status&&n({type:"GET_CART_DETAILS",cartItems:c.message[0]}),a.abrupt("return",c.message[0]);case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},T=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).logout=function(){e.props.logout()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated||this.props.getToken().then((function(t){t&&e.props.getCartItems(e.props.auth.token,e.props.auth.user.userId)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated,t=this.props.cart,a=e?t.cartCount:"";return r.a.createElement("header",{className:"Header"},r.a.createElement(j,{logout:this.logout,cartCount:a}))}}]),a}(n.Component),S=Object(v.b)((function(e){return{auth:e.auth,cart:e.cart}}),(function(e){return{getToken:function(){return e(k())},getCartItems:function(t,a){return e(A(t,a))},logout:function(){return e((function(e){return window.localStorage.getItem("auth")?(window.localStorage.clear(),e({type:"LOGOUT_USER",payload:""}),Promise.resolve(!0)):Promise.resolve(!1)}))}}}))(T),x=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={categoryTitle:"Products"},e}return Object(u.a)(a,[{key:"render",value:function(){return console.log("Parents"),console.log(this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("br",null),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/",exact:!0,component:w}),r.a.createElement(l.b,{path:"/products",exact:!0,component:w}),r.a.createElement(l.b,{path:"/products/:slug",component:w})))}}]),a}(n.Component),I=Object(v.b)(null,null)(x),P=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(I,null)}}]),a}(n.Component),D=a(10),M=(a(54),function(e){return r.a.createElement("div",{className:"Error"},e.children)}),H=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={redirectToReferrer:!1,email:"",password:"",isAdmin:!1,isManager:!1,isError:!1,errorMessage:""},e.textHandler=function(t){e.setState(Object(D.a)({},t.target.name,t.target.value))},e.setError=function(t,a){e.setState({error:t,errorMessage:a})},e.loginHandler=function(t){(t.preventDefault(),""!==e.state.email)?new RegExp(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/).test(e.state.email)?""!==e.state.password?e.props.authenticate(e.state.email,e.state.password).then((function(t){console.log(t),t.hasOwnProperty("token")&&t.hasOwnProperty("admin")?(window.localStorage.setItem("auth",JSON.stringify(t)),e.setState({redirectToReferrer:!0,isAdmin:!0,isManager:!1})):t.hasOwnProperty("token")&&t.hasOwnProperty("manager")?(window.localStorage.setItem("auth",JSON.stringify(t)),e.setState({redirectToReferrer:!0,isAdmin:!1,isManager:!0})):t.hasOwnProperty("token")&&(window.localStorage.setItem("auth",JSON.stringify(t)),e.setState({redirectToReferrer:!0,isAdmin:!1,isManager:!1}))})).catch((function(e){console.log(e)})):e.setError(!0,"Enter Password"):e.setError(!0,"Invalid Email Address"):e.setError(!0,"Enter Email")},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated||this.props.getToken().then((function(t){t&&e.setState({redirectToReferrer:!0})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.redirectToReferrer&&this.state.isAdmin?r.a.createElement(l.a,{to:"/addcategory"}):this.state.redirectToReferrer&&this.state.isManager?r.a.createElement(l.a,{to:"/addproduct"}):this.state.redirectToReferrer?r.a.createElement(l.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("div",{className:"jumbotron bg-transparent d-flex align-items-center"},r.a.createElement("form",{className:"col-md-4 offset-md-4",onSubmit:this.loginHandler},r.a.createElement("div",null,r.a.createElement("h4",null,"Login")),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email"),r.a.createElement("input",{type:"email",name:"email",className:"form-control","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,onChange:this.textHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{type:"password",name:"password",className:"form-control",placeholder:"Enter password",value:this.state.password,onChange:this.textHandler})),r.a.createElement(M,null,this.state.errorMessage),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group "},r.a.createElement("button",{type:"submit",className:"btn btn-dark btn-block"},"Login")),r.a.createElement("div",null,r.a.createElement("span",null,"Don't have an account ? "),r.a.createElement(o.b,{to:"/signup"}," Register here")))))}}]),a}(n.Component),R=Object(v.b)((function(e){return{auth:e.auth}}),(function(e){return{authenticate:function(t,a){return e(function(e,t){return function(){var a=Object(E.a)(f.a.mark((function a(n){var r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(g,"/user/login"),{headers:{"Content-Type":"application/json",Accepts:"application/json"},method:"POST",body:JSON.stringify({email:e,password:t})});case 2:return r=a.sent,a.next=5,r.json();case 5:return c=a.sent,200===r.status&&(window.localStorage.setItem("auth",JSON.stringify(r.message)),n({type:"AUTHENTICATE_USER",auth:c.message})),a.abrupt("return",c.message);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},getToken:function(){return e(k())}}}))(H),F=a(1),L=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={redirectToreferrer:!1,signupForm:{firstName:"",lastName:"",email:"",password:"",repassword:"",isError:!1,errorMessage:""}},e.textHandler=function(t){var a=e.state.signupForm,n=Object(F.a)(Object(F.a)({},a),{},Object(D.a)({},t.target.name,t.target.value));console.log("called--"),e.setState({signupForm:n})},e.setError=function(t,a){var n=e.state.signupForm,r=Object(F.a)(Object(F.a)({},n),{},{isError:t,errorMessage:a});e.setState({signupForm:r})},e.signupHandler=function(t){t.preventDefault();var a=e.state.signupForm;if(""!==a.firstName)if(""!==a.lastName)if(new RegExp(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/).test(a.email))if(""!==a.email)if(""!==a.password)if(""!==a.repassword)if(a.password===a.repassword){var n={firstName:a.firstName,lastName:a.lastName,email:a.email,password:a.password};e.props.signup(n).then((function(t){console.log(t),e.props.history.push({pathname:"/login",search:"?signup=success",state:t.message})})).catch((function(e){console.log(e)}))}else e.setError(!0,"Password dosent match");else e.setError(!0,"Enter Repassword");else e.setError(!0,"Enter Password");else e.setError(!0,"Enter Email");else e.setError(!0,"Invalid Email Address");else e.setError(!0,"Enter Last Name");else e.setError(!0,"Enter First Name")},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated||this.props.getToken().then((function(t){t&&e.setState({redirectToreferrer:!0})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.signupForm;return e.redirectToreferrer?r.a.createElement(l.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("div",{className:"jumbotron bg-transparent d-flex align-items-center"},r.a.createElement("form",{className:"col-md-4 offset-md-4",onSubmit:this.signupHandler},r.a.createElement("div",null,r.a.createElement("h4",null,"Sign Up")),r.a.createElement("br",null),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"inputEmail4"},"First Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"firstName",placeholder:"First Name",value:t.firstName,onChange:this.textHandler})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"inputPassword4"},"Last Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"lastName",placeholder:"Last Name",value:t.lastName,onChange:this.textHandler}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputAddress"},"Email"),r.a.createElement("input",{type:"email",className:"form-control",name:"email",placeholder:"Email",value:t.email,onChange:this.textHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputAddress2"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",value:t.password,onChange:this.textHandler})),r.a.createElement("div",{className:"form-row"},r.a.createElement("label",{htmlFor:"inputCity"},"Re-enter Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"repassword",placeholder:"Password",value:t.repassword,onChange:this.textHandler})),r.a.createElement("br",null),r.a.createElement(M,null,this.state.signupForm.errorMessage),r.a.createElement("div",{className:"form-group "},r.a.createElement("button",{type:"submit",value:"Submit",className:"btn btn-dark btn-block"},"Register")),r.a.createElement("div",null,r.a.createElement("span",null,"Already have an account ? "),r.a.createElement(o.b,{to:"/login"}," Login here")))))}}]),a}(n.Component),_=Object(v.b)((function(e){return{auth:e.auth}}),(function(e){return{signup:function(t){return e(function(e){return function(){var t=Object(E.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(g,"/user/signup"),{headers:{"Content-Type":"application/json",Accepts:"application/json"},method:"POST",body:JSON.stringify({firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password})});case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},getToken:function(){return e(k())}}}))(L),q=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={categoryList:[]},e.getCategories=function(){var t=e.props.auth.token;fetch("".concat(g,"/category"),{headers:{"Content-Type":"application/json","auth-token":t}}).then((function(e){return e.json()})).then((function(t){e.setState({categoryList:t.message})})).catch((function(e){console.log(e)}))},e.formatDate=function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated?this.getCategories():this.props.getToken().then((function(t){t?e.getCategories():e.props.history.push("/login")}))}},{key:"componentDidUpdate",value:function(){this.getCategories()}},{key:"shouldComponentUpdate",value:function(e,t){if(this.state.categoryList!==t.categoryList)return!0}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"container"},r.a.createElement("h4",null,"Available Categories"),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",{class:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Keyword"),r.a.createElement("th",{scope:"col"},"Created Date"),r.a.createElement("th",{scope:"col"},"Sub Categories"))),this.state.categoryList.map((function(t){return r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t._id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.slug),r.a.createElement("td",null,e.formatDate(t.createdAt)),r.a.createElement("td",null,t.children.map((function(e){return r.a.createElement("p",null,e.name)})))))}))))}}]),a}(n.Component),U=Object(v.b)((function(e){return{auth:e.auth}}),(function(e){return{getToken:function(){return e(k())}}}))(q),B=(a(55),function(e){return r.a.createElement("div",{className:"success"},e.children)}),Q=(a(32),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={category:{name:"",slug:"",parent:"",createdBy:"",isError:!1,errorMessage:"",isSuccess:!1}},e.setError=function(t,a,n){var r=e.state.category,c=Object(F.a)(Object(F.a)({},r),{},{isError:t,errorMessage:a,isSuccess:n});e.setState({category:c})},e.categorySubmitHandler=function(t){t.preventDefault();var a=e.state.category;""!==a.name?""!==a.slug?(e.setError(!1,"Category added successfully",!0),fetch("".concat(g,"/category"),{headers:{"Content-Type":"application/json","auth-token":e.props.auth.token},method:"POST",body:JSON.stringify(e.state.category)}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),e.forceUpdate()):e.setError(!0,"Enter Keyword",!1):e.setError(!0,"Enter Name",!1)},e.inputHandler=function(t){var a,n=e.state.category,r=Object(F.a)(Object(F.a)({},n),{},(a={},Object(D.a)(a,t.target.name,t.target.value),Object(D.a)(a,"isError",!1),Object(D.a)(a,"errorMessage",""),Object(D.a)(a,"isSuccess",!1),a));e.setState({category:r})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated||this.props.getToken().then((function(t){if(t){var a=Object(F.a)({},e.state.category);a.createdBy=e.props.auth.user.userId,e.setState({category:a})}})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=r.a.createElement(M,null,this.state.category.errorMessage);return this.state.category.isSuccess&&(t=r.a.createElement(B,null,this.state.category.errorMessage)),r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("br",null),r.a.createElement("div",{class:"container"},r.a.createElement("p",{className:"txt"},"Category Management"),r.a.createElement("h4",null,"Add New Category"),r.a.createElement("form",{onSubmit:this.categorySubmitHandler},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:e.name,onChange:this.inputHandler,placeholder:"Name"})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control",name:"slug",value:e.slug,onChange:this.inputHandler,placeholder:"Keyword"})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control",name:"parent",value:e.parent,onChange:this.inputHandler,placeholder:"ParentID(Optional)"})),r.a.createElement("div",{className:"col"},r.a.createElement("button",{type:"submit",value:"submit",className:"btn btn-dark btn-block"},"Add"))),r.a.createElement("br",null),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-3"},t)))),r.a.createElement("br",null),r.a.createElement(U,null))}}]),a}(n.Component)),J=Object(v.b)((function(e){return{auth:e.auth}}),(function(e){return{getToken:function(){return e(k())}}}))(Q),z=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={managerList:[]},e.getManagers=function(){fetch("".concat(g,"/manager"),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({managerList:t.message})})).catch((function(e){console.log(e)}))},e.formatDate=function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())},e.removeManager=function(t){fetch("".concat(g,"/manager/delete/")+t,{headers:{"Content-Type":"application/json","auth-token":e.props.auth.token},method:"DELETE"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.getManagers()})).catch((function(e){console.log(e)}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated?this.getManagers():this.props.getToken().then((function(t){t?e.getManagers():e.props.history.push("/login")}))}},{key:"componentDidUpdate",value:function(){this.getManagers()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"container"},r.a.createElement("h4",null,"Available Store Managers"),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",{class:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"First Name"),r.a.createElement("th",{scope:"col"},"Last Name"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Created Date"),r.a.createElement("th",{scope:"col"},"Action"))),this.state.managerList.map((function(t){return r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t.firstName),r.a.createElement("td",null,t.lastName),r.a.createElement("td",null,t.email),r.a.createElement("td",null,e.formatDate(t.createdAt)),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:function(){return e.removeManager(t._id)},className:"btn btn-danger"},r.a.createElement("i",{className:"fa fa-trash"})))))}))))}}]),a}(n.Component),W=Object(v.b)((function(e){return{auth:e.auth}}),(function(e){return{getToken:function(){return e(k())}}}))(z),$=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={manager:{firstName:"",lastName:"",email:"",password:"",isError:!1,errorMessage:"",isSuccess:!1}},e.setError=function(t,a,n){var r=e.state.manager,c=Object(F.a)(Object(F.a)({},r),{},{isError:t,errorMessage:a,isSuccess:n});e.setState({manager:c})},e.managerSubmitHandler=function(t){t.preventDefault();var a=e.state.manager;""!==a.firstName?""!==a.lastName?""!==a.email?""!==a.password?(e.setError(!1,"Manager added successfully",!0),fetch("".concat(g,"/manager/signup"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e.state.manager)}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),e.forceUpdate()):e.setError(!0,"Enter Password",!1):e.setError(!0,"Enter Email",!1):e.setError(!0,"Enter Last Name",!1):e.setError(!0,"Enter First Name",!1)},e.inputHandler=function(t){var a,n=e.state.manager,r=Object(F.a)(Object(F.a)({},n),{},(a={},Object(D.a)(a,t.target.name,t.target.value),Object(D.a)(a,"isError",!1),Object(D.a)(a,"errorMessage",""),Object(D.a)(a,"isSuccess",!1),a));e.setState({manager:r})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||this.props.getToken().then((function(e){})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=r.a.createElement(M,null,this.state.manager.errorMessage);return this.state.manager.isSuccess&&(t=r.a.createElement(B,null,this.state.manager.errorMessage)),r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"txt"},"Manager Management"),r.a.createElement("h4",null,"Add New Store Manager"),r.a.createElement("form",{onSubmit:this.managerSubmitHandler},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("input",{type:"text",className:"form-control",name:"firstName",value:e.firstName,onChange:this.inputHandler,placeholder:"First Name"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("input",{type:"text",className:"form-control",name:"lastName",value:e.lastName,onChange:this.inputHandler,placeholder:"Last Name"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("input",{type:"email",className:"form-control",name:"email",value:e.email,onChange:this.inputHandler,placeholder:"Email"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("input",{type:"password",className:"form-control",name:"password",value:e.password,onChange:this.inputHandler,placeholder:"Password"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},t)),r.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Add Manager"))),r.a.createElement("br",null),r.a.createElement(W,null))}}]),a}(n.Component),G=Object(v.b)((function(e){return{auth:e.auth}}),(function(e){return{getToken:function(){return e(k())}}}))($),Y=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={productList:[]},e.getProducts=function(){console.log(e.props.auth.isAuthenticated),fetch("".concat(g,"/products"),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({productList:t.message})})).catch((function(e){console.log(e)}))},e.formatDate=function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())},e.addDiscounts=function(t){var a=t,n=e.state.offer;console.log(a+"--"+n),fetch("".concat(g,"/products/update/offer"),{headers:{"Content-Type":"application/json","auth-token":e.props.auth.token},method:"PUT",body:{_id:a,offer:n}}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},e.removeProduct=function(t){fetch("".concat(g,"/products/delete/")+t,{headers:{"Content-Type":"application/json","auth-token":e.props.auth.token},method:"DELETE"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.getProducts()})).catch((function(e){console.log(e)}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated?this.getProducts():this.props.getToken().then((function(t){t?e.getProducts():e.props.history.push("/login")}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"container"},r.a.createElement("h4",null,"Available Products"),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",{class:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Price"),r.a.createElement("th",{scope:"col"},"Discount"),r.a.createElement("th",{scope:"col"},"Created Date"),r.a.createElement("th",{scope:"col"},"Stock"),r.a.createElement("th",{scope:"col"},"Option"),r.a.createElement("th",{scope:"col"},"Action"))),this.state.productList.map((function(t){return r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.price),r.a.createElement("td",null,t.offer),r.a.createElement("td",null,e.formatDate(t.createdAt)),r.a.createElement("td",null,t.stock),r.a.createElement("td",null,r.a.createElement("input",{type:"text",placeholder:"Discount",value:e.state.offer}),"\xa0\xa0",r.a.createElement("button",{type:"submit",value:"Submit",className:"btn btn-dark",onClick:function(){e.addDiscounts(t._id)}},"Add Discount")),r.a.createElement("td",null,r.a.createElement("button",{type:"submit",value:"Submit",className:"btn btn-dark",onClick:function(){e.removeProduct(t._id)}},"Delete"))))}))))}}]),a}(n.Component),K=Object(v.b)((function(e){return{auth:e.auth}}),(function(e){return{getToken:function(){return e(k())}}}))(Y),V=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={product:{name:"",price:"",stock:"",description:"",keyword:"",category:"",productPic:[],createdBy:"",isError:!1,errorMessage:"",isSuccess:!1},image:{img:""},categoryList:[]},e.getCategories=function(){console.log(e.props.auth.isAuthenticated),fetch("".concat(g,"/category"),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({categoryList:t.message})})).catch((function(e){console.log(e)}))},e.textHandler=function(t){var a,n=e.state.product,r=Object(F.a)(Object(F.a)({},n),{},(a={},Object(D.a)(a,t.target.name,t.target.value),Object(D.a)(a,"isError",!1),Object(D.a)(a,"errorMessage",""),Object(D.a)(a,"isSuccess",!1),a));e.setState({product:r})},e.selectBoxHandler=function(t){var a=Object(F.a)({},e.state.product);a.category=t.target.value,e.setState({product:a})},e.imageHandler=function(t){var a=e.state.image,n=Object(F.a)(Object(F.a)({},a),{},Object(D.a)({},t.target.name,t.target.value));e.setState({image:n})},e.setError=function(t,a,n){var r=e.state.product,c=Object(F.a)(Object(F.a)({},r),{},{isError:t,errorMessage:a,isSuccess:n});e.setState({product:c})},e.addProductsHandler=function(t){t.preventDefault();var a=e.state.product,n=e.state.image;""!==a.name?""!==a.category?""!==n.img?""!==a.description?""!==a.price?""!==a.keyword?""!==a.stock?(a.productPic.push(e.state.image),e.setError(!1,"Product added successfully",!0),fetch("".concat(g,"/products/create"),{headers:{"Content-Type":"application/json","auth-token":e.props.auth.token},method:"POST",body:JSON.stringify(e.state.product)}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))):e.setError(!0,"Enter Stock",!1):e.setError(!0,"Enter Keyword",!1):e.setError(!0,"Enter Price",!1):e.setError(!0,"Enter Description",!1):e.setError(!0,"Enter Image URL",!1):e.setError(!0,"Select a Category",!1):e.setError(!0,"Enter Product Name",!1)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated||this.props.getToken().then((function(t){if(t){e.getCategories();var a=Object(F.a)({},e.state.product);a.createdBy=e.props.auth.user.userId,e.setState({product:a})}})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.product,a=e.image,n=r.a.createElement(M,null,this.state.product.errorMessage);return this.state.product.isSuccess&&(n=r.a.createElement(B,null,this.state.product.errorMessage)),r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"txt"},"Products Management"),r.a.createElement("h4",null,"Add New Product"),r.a.createElement("form",{onSubmit:this.addProductsHandler},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"inputAddress"},"Product Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",placeholder:"Product Name",value:t.name,onChange:this.textHandler})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"inputState"},"Select Category"),r.a.createElement("select",{id:"inputState",className:"form-control",value:t.category,onChange:this.selectBoxHandler},this.state.categoryList.map((function(e){return e.children.map((function(e){return r.a.createElement("option",{value:e._id,key:e._id},e.name)}))}))))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"inputAddress"},"Description"),r.a.createElement("textarea",{type:"text",className:"form-control",name:"description",placeholder:"Description",value:t.description,onChange:this.textHandler}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"inputAddress"},"Price"),r.a.createElement("input",{type:"number",className:"form-control",name:"price",placeholder:"Price",value:t.price,onChange:this.textHandler})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"inputAddress"},"Image"),r.a.createElement("input",{type:"text",className:"form-control",name:"img",placeholder:"Image URL",value:a.img,onChange:this.imageHandler}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"inputAddress"},"Stock"),r.a.createElement("input",{type:"number",className:"form-control",name:"stock",placeholder:"Stock",value:t.stock,onChange:this.textHandler})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"inputAddress"},"Keyword"),r.a.createElement("input",{type:"text",className:"form-control",name:"keyword",placeholder:"Keyword",value:t.keyword,onChange:this.textHandler}))),n,r.a.createElement("div",{className:"form-group "},r.a.createElement("button",{type:"submit",value:"Submit",className:"btn btn-dark"},"ADD")))),r.a.createElement("br",null),r.a.createElement(K,null))}}]),a}(n.Component),X=Object(v.b)((function(e){return{auth:e.auth}}),(function(e){return{addProducts:function(t){return e(function(e,t){return function(){var a=Object(E.a)(f.a.mark((function a(n){var r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat(g,"/products/add"),{headers:{"Content-Type":"application/json","auth-token":e},method:"POST",body:JSON.stringify({name:t.name,price:t.price,stock:t.stock,description:t.description,productPic:t.productPic[0].img,keyword:t.keyword,category:t.category})});case 3:return r=a.sent,a.next=6,r.json();case 6:return c=a.sent,a.abrupt("return",c);case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(t))},getToken:function(){return e(k())}}}))(V),Z=a(18),ee=a(36),te={isAuthenticated:!1,user:{},token:""},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTHENTICATE_USER":e=Object(F.a)(Object(F.a)({},e),{},{isAuthenticated:!0,user:t.auth.user,token:t.auth.token});break;case"LOGOUT_USER":e={isAuthenticated:!1,user:{},token:""};break;default:return e}return e},ne=a(38),re=function(e){var t=e.component,a=Object(ne.a)(e,["component"]);return r.a.createElement(l.b,Object.assign({},a,{render:function(e){var a=window.localStorage.getItem("auth");if(a){var n=JSON.parse(a);return n.hasOwnProperty("token")&&""!==n.token?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/login"})}return r.a.createElement(l.a,{to:"/login"})}}))},ce={products:[],categories:[]},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":e=Object(F.a)(Object(F.a)({},e),{},{products:t.products});break;case"GET_PRODUCT_CATEGORIES":e=Object(F.a)(Object(F.a)({},e),{},{categories:t.categories})}return e},oe=(a(56),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={product:null,redirectToReferrer:!1,review:"",rating:0},e.addToCart=function(t,a,n,r){if(e.props.auth.isAuthenticated){var c=e.props.auth,s={user:c.user.userId,product:t,name:n,image:r,quantity:1,price:a};e.props.addToCart(c.token,s).then((function(t){console.log(e.props.cart)})).catch((function(e){console.log(e)}))}else e.props.history.push("/login")},e.addReview=function(t){if(e.props.auth.isAuthenticated){var a={review:e.state.review,rating:e.state.rating,name:e.props.auth.user.firstName+" "+e.props.auth.user.lastName,userId:e.props.auth.user.userId,productId:t};fetch("".concat(g,"/products/addReview"),{headers:{"Content-Type":"application/json","auth-token":e.props.auth.token},method:"PUT",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}else e.props.history.push("/login")},e.textHandler=function(t){e.setState({review:t.target.value})},e.formatDate=function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated||this.props.getToken().then((function(t){t&&e.props.getCartItems(e.props.auth.token,e.props.auth.user.userId).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));var t=this.props.match.params,a=t.category,n=t.slug;fetch("".concat(g,"/products/").concat(a,"/").concat(n)).then((function(e){return e.json()})).then((function(t){t.hasOwnProperty("message")&&(console.log(t),e.setState({product:t.message}))})).catch((function(e){console.log(e)}))}},{key:"onStarClick",value:function(e,t,a){this.setState({rating:e})}},{key:"render",value:function(){var e,t=this,a=this.state.product;return e=this.state.product?r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"ProductDetailsWrapper"},r.a.createElement("div",{className:"ProductDetailsImage"},r.a.createElement("div",{className:"ProductDetailsImageWrapper"},r.a.createElement("img",{src:a.productPic[0].img,alt:""}))),r.a.createElement("div",{className:"ProductDetails"},r.a.createElement("div",{className:"row"},r.a.createElement("h2",null,a.name)),r.a.createElement("div",{className:"row"},r.a.createElement("h1",null,r.a.createElement("i",{className:"fa fa-usd","aria-hidden":"true"})," ",a.price),"\xa0 \xa0",r.a.createElement("h2",{className:"text-success"},a.offer,"% off")),r.a.createElement("div",{className:"row"},r.a.createElement(b.a,{name:"rating",starCount:5,editing:!1,value:a.rating,renderStarIcon:function(){return r.a.createElement("i",{className:"fa fa-star fa-lg","aria-hidden":"true"})}}),"\xa0 \xa0"),r.a.createElement("div",{className:"row"},r.a.createElement("p",null,r.a.createElement("i",{className:"text-success fa fa-check-square-o","aria-hidden":"true"})," ",r.a.createElement("strong",null,"Bank Offer")," 20% Instant Discount on Visa Credit Cards"),r.a.createElement("p",null,r.a.createElement("i",{className:"text-success fa fa-check-square-o","aria-hidden":"true"})," ",r.a.createElement("strong",null,"Bank Offer")," 5% Unlimited Cashback on BOC Credit Cards ")),r.a.createElement("div",{className:"row"},r.a.createElement("h3",{className:"text-info"},r.a.createElement("i",{className:"fa fa-map-marker","aria-hidden":"true"})),r.a.createElement("p",null," \xa0 Delivery | \xa0",r.a.createElement("span",null,"FREE"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"ProductDescription"},r.a.createElement("h5",null,"Product Description"),r.a.createElement("p",null,a.description))),r.a.createElement("div",{className:"row ActionButtonWrapper"},r.a.createElement("button",{onClick:function(){t.addToCart(a._id,a.price,a.name,a.productPic[0].img)}},r.a.createElement("i",{className:"fa fa-shopping-cart"}),"\xa0ADD TO CART")))),r.a.createElement("div",{className:"container mt-5 mb-5"},r.a.createElement("div",{className:"row"},r.a.createElement("h3",null,"Ratings & Reviews")),a.reviews.map((function(e){return r.a.createElement("div",{className:"row mt-5 mb-5"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"mr-3"},r.a.createElement("i",{className:"fa fa-user-o fa-3x"})),r.a.createElement("div",{className:"media-body"},r.a.createElement("h5",{className:"mt-0"},e.name," - ",t.formatDate(e.createdAt)),r.a.createElement(b.a,{name:"rating",starCount:5,editing:!1,value:e.rating,renderStarIcon:function(){return r.a.createElement("i",{className:"fa fa-star fa-lg","aria-hidden":"true"})}}),r.a.createElement("p",null,e.review))))})),r.a.createElement("div",{className:"row mb-5"},r.a.createElement("h3",null," Post Your Own Reviews")),r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Rate"),r.a.createElement("div",{className:"form-group"},r.a.createElement(b.a,{name:"rating",starCount:5,value:this.state.rating,onStarClick:this.onStarClick.bind(this),renderStarIcon:function(){return r.a.createElement("i",{className:"fa fa-star fa-lg","aria-hidden":"true"})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Review"),r.a.createElement("textarea",{type:"text",className:"form-control",id:"exampleInputtextarea",placeholder:"write your own reviews",rows:"3",value:this.state.review,onChange:this.textHandler})),r.a.createElement("button",{onClick:function(){t.addReview(a._id)},type:"submit",className:"btn btn-dark"},"Submit")))):r.a.createElement("div",null,"Product is loading...!"),r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("br",null),e)}}]),a}(n.Component)),le=Object(v.b)((function(e){return{auth:e.auth,cart:e.cart}}),(function(e){return{addToCart:function(t,a){return e(function(e,t){return function(){var a=Object(E.a)(f.a.mark((function a(n){var r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat(g,"/cart/add"),{headers:{"Content-Type":"application/json","auth-token":e},body:JSON.stringify(t),method:"POST"});case 3:return r=a.sent,a.next=6,r.json();case 6:return c=a.sent,201===r.status&&n({type:"ADD_TO_CART",cartItem:t}),a.abrupt("return",c);case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))},getCartItems:function(t,a){return e(A(t,a))},getToken:function(){return e(k())}}}))(oe),ie=(a(57),function(e){return r.a.createElement("div",{className:"QunantityControl"},r.a.createElement("button",{onClick:function(t){return e.decreaseQuantity(t,e.productId)}},"-"),r.a.createElement("input",{type:"text",onChange:function(t){return e.changeQuantity(t,e.productId)},name:e.name,value:e.quantity}),r.a.createElement("button",{onClick:function(t){return e.increaseQuantity(t,e.productId)}},"+"))}),ue=(a(58),function(e){return r.a.createElement("div",{className:"SingleItem"},r.a.createElement("div",{className:"ItemWrapper"},r.a.createElement("div",{className:"ItemImage",style:{width:"80px",height:"80px",overflow:"hidden",position:"relative"}},r.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%",position:"absolute",left:"50%",transform:"translateX(-50%)"},src:e.image,alt:""})),r.a.createElement("div",{className:"ItemDetails"},r.a.createElement("p",{className:"ItemName"},e.name),r.a.createElement("p",{className:"ItemPrice"},"$",e.total))),r.a.createElement("div",{className:"CartActionButtons"},r.a.createElement(ie,{productId:e.productId,name:e.name,quantity:e.quantity,changeQuantity:e.changeQuantity,increaseQuantity:e.increaseQuantity,decreaseQuantity:e.decreaseQuantity}),r.a.createElement("button",{onClick:e.removeItem,className:"btn btn-dark btn-sm"},"REMOVE")))}),me=(a(59),Object(v.b)((function(e){return{cart:e.cart}}),null)((function(e){return r.a.createElement("div",{className:"PriceWrapper"},r.a.createElement("div",{className:"price-title"},r.a.createElement("h4",null,"Price Details")),r.a.createElement("div",{className:"CardBody"},r.a.createElement("div",{className:"FinalBilling"},r.a.createElement("div",{className:"Row"},r.a.createElement("p",null,"Price (",e.cart.cartCount,")"),r.a.createElement("p",null,"$",e.cart.totalAmount)),r.a.createElement("div",{className:"Row"},r.a.createElement("p",null,"Delivery"),r.a.createElement("p",null,"$0")),r.a.createElement("hr",null),r.a.createElement("div",{className:"Row"},r.a.createElement("h4",null,"Total Amount"),r.a.createElement("h4",null,"$",e.cart.totalAmount)))))}))),de=(a(60),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cartItems:[]},e.decreaseQuantity=function(t,a){e.updateCart(a,-1)},e.increaseQuantity=function(t,a){e.updateCart(a,1)},e.updateCart=function(){var t=Object(E.a)(f.a.mark((function t(a,n){var r,c,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=e.props.auth,!((c={productId:(c=e.state.cartItems.find((function(e){return e.product===a}))).product,quantity:parseInt(c.quantity)+parseInt(n),newQuantity:n,price:c.price,total:parseFloat(c.total)+parseFloat(c.price*n)}).quantity<=0)){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.props.updateCart(r.token,r.user.userId,c);case 8:1===t.sent.ok&&(s=e.state.cartItems,e.setState({cartItems:s.map((function(e){return e.product===a?Object(F.a)(Object(F.a)({},e),{},{quantity:e.quantity+n,total:e.total+e.price*n}):e}))})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}(),e.clearCart=function(t){var a=e.props.auth.user.userId;fetch("".concat(g,"/cart/delete/").concat(a,"/").concat(t),{headers:{"Content-Type":"application/json","auth-token":e.props.auth.token},method:"PUT"}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),window.location.reload(!1)},e.changeQuantity=function(e,t){},e.getItems=function(){e.props.auth.isAuthenticated?e.setState({cartItems:e.props.cart.cartItem}):e.props.getToken().then((function(t){return t?e.props.getCartItems(e.props.auth.token,e.props.auth.user.userId):[]})).then((function(t){t.cart.length>0&&e.setState({cartItems:e.props.cart.cartItem})})).catch((function(e){console.log(e)}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getItems()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"CartWrapper"},r.a.createElement("div",{className:"CartDetails"},r.a.createElement("div",{className:"CardTitle"},r.a.createElement("h4",null,"My Cart")),r.a.createElement("div",{className:"CardBody"},this.state.cartItems.map((function(t){return r.a.createElement(ue,{key:t.product,productId:t.product,name:t.name,image:t.image,price:t.price,quantity:t.quantity,total:t.total,changeQuantity:e.changeQuantity,increaseQuantity:e.increaseQuantity,decreaseQuantity:e.decreaseQuantity,removeItem:function(){return e.clearCart(t.product)}})})),r.a.createElement("div",{className:"PlaceOrder"},r.a.createElement("button",{className:"PlaceOrderButton",onClick:function(){return e.props.history.push("/place-order")}},"Place Order")))),r.a.createElement(me,null))))}}]),a}(n.Component)),pe=Object(v.b)((function(e){return{auth:e.auth,cart:e.cart}}),(function(e){return{getCartItems:function(t,a){return e(A(t,a))},updateCart:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(E.a)(f.a.mark((function n(r){var c,s;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(g,"/cart/update/quantity"),{headers:{"Content-Type":"application/json","auth-token":e},method:"PUT",body:JSON.stringify({userId:t,productId:a.productId,quantity:a.quantity,total:a.total})});case 3:return c=n.sent,n.next=6,c.json();case 6:return s=n.sent,201===c.status&&r({type:"UPDATE_CART",item:a}),n.abrupt("return",s.message);case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},getToken:function(){return e(k())}}}))(de),he=a(37),fe={cartItem:[],totalAmount:0,cartCount:0},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var a=e.cartItem,n=e.cartItem.filter((function(e){return e.product===t.cartItem.product}));e={cartItem:0===n.length?[].concat(Object(he.a)(a),[{product:t.cartItem.product,name:t.cartItem.name,image:t.cartItem.image,price:t.cartItem.price,quantity:t.cartItem.quantity,total:t.cartItem.quantity*t.cartItem.price}]):a.map((function(e){return e.product===t.cartItem.product?Object(F.a)(Object(F.a)({},e),{},{quantity:e.quantity+t.cartItem.quantity,total:e.total+t.cartItem.price}):e})),totalAmount:e.totalAmount+t.cartItem.price,cartCount:e.cartCount+1};break;case"GET_CART_DETAILS":var r=t.cartItems.cart,c=0,s=0,o=r.map((function(e){return c+=e.total,s+=e.quantity,{product:e.product._id,name:e.product.name,image:e.product.productPic[0].img,price:e.price,quantity:e.quantity,total:e.total}}));e={cartItem:o,totalAmount:c,cartCount:s};break;case"UPDATE_CART":var l=t.item,i=e.cartItem.map((function(e){return e.product===l.productId?Object(F.a)(Object(F.a)({},e),{},{quantity:l.quantity,total:l.total}):e}));e={cartItem:i,totalAmount:parseFloat(e.totalAmount)+parseFloat(l.price*l.newQuantity),cartCount:parseInt(e.cartCount)+parseInt(l.newQuantity)};break;case"CLEAR_CART":e={cartItem:[],totalAmount:0,cartCount:0}}return e},ge=(a(61),a(62),function(e){var t;switch(e.type){case"text":t=r.a.createElement("input",{type:e.type,name:e.name,className:"NormalInput",placeholder:e.placeholder,value:e.value,onChange:e.inputHandler});break;case"textarea":t=r.a.createElement("textarea",{type:e.type,name:e.name,className:"NormalInput",placeholder:e.placeholder,value:e.value,onChange:e.inputHandler});break;case"select":t=r.a.createElement("select",null,r.a.createElement("option",null,"---Select---"))}return t}),ve=function(e){var t=e.address;return r.a.createElement("form",{onSubmit:e.addressSubmitHandler},r.a.createElement("div",{className:"Row"},r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ge,{name:"fullName",value:t.fullName,placeholder:"Full Name",inputHandler:e.inputHandler,type:"text"})),r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ge,{name:"mobileNumber",value:t.mobileNumber,placeholder:"10-digit Mobile Number",inputHandler:e.inputHandler,type:"text"}))),r.a.createElement("div",{className:"Row"},r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ge,{name:"pinCode",value:t.pinCode,placeholder:"Pincode",inputHandler:e.inputHandler,type:"text"})),r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ge,{name:"locality",value:t.locality,placeholder:"Locality",inputHandler:e.inputHandler,type:"text"}))),r.a.createElement("div",{className:"Row"},r.a.createElement(ge,{name:"address",value:t.address,placeholder:"Address (Area and Street)",inputHandler:e.inputHandler,type:"textarea",style:{height:"60px"}})),r.a.createElement("div",{className:"Row"},r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ge,{name:"cityDistrictTown",value:t.cityDistrictTown,placeholder:"City/District/Town",inputHandler:e.inputHandler,type:"text"})),r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ge,{name:"state",value:t.state,placeholder:"State",inputHandler:e.inputHandler,type:"text"}))),r.a.createElement("div",{className:"Row"},r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ge,{name:"landmark",value:t.landmark,placeholder:"Landmark (Optional)",inputHandler:e.inputHandler,type:"text"})),r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ge,{name:"alternatePhoneNumber",value:t.alternateNumber,placeholder:"Alternate Phone (Optional)",inputHandler:e.inputHandler,type:"text"}))),r.a.createElement("div",{className:"Row"},r.a.createElement("button",{className:"DeliveryAddressButton"},"SAVE AND DELIVER HERE")))},ye=(a(63),a(64),function(e){return r.a.createElement("label",{className:"RadioButton"},e.label,r.a.createElement("input",{onChange:e.onChange,type:"radio",name:e.name,value:e.value}),r.a.createElement("span",{className:"Checkmark"}))}),be=function(e){var t=e.address;return r.a.createElement("div",{style:{margin:"10px 0"}},r.a.createElement("div",{className:"AddressSelection",key:t._id},r.a.createElement(ye,{name:"address",label:"",value:t._id,onChange:e.onAddressSelection}),r.a.createElement("div",null,r.a.createElement("p",{className:"AddressAuthor"},t.fullName," ",t.mobileNumber),r.a.createElement("p",{className:"AuthorAddress"},t.address,", ",t.cityDistrictTown,", ",t.state," - ",t.pinCode))))},Ne=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={addresses:[],address:{fullName:"",mobileNumber:"",pinCode:"",locality:"",address:"",cityDistrictTown:"",state:"",landmark:"",alternatePhoneNumber:""},order:[],selectedAddress:"",existingAddress:!1,newAddress:!1,isAddressConfirm:!1,isOrderConfirm:!1,selectedPaymentType:"cod",paymentTypes:[{id:1,value:"card",label:"Credit Card / Debit Card / ATM Card",isActive:!1},{id:2,value:"netBanking",label:"Net Banking",isActive:!1},{id:3,value:"paypal",label:"Paypal",isActive:!1},{id:4,value:"cod",label:"Cash on Delivery",isActive:!0}]},e.getAddresses=function(){var t=e.props.auth.user.userId;fetch("".concat(g,"/user/get-addresses/")+t,{headers:{"auth-token":e.props.auth.token}}).then((function(e){if(200===e.status)return e.json();throw new Error("Something went wrong")})).then((function(t){console.log(t),e.setState({addresses:t.message.address})})).catch((function(e){console.log(e)}))},e.inputHandler=function(t){var a=e.state.address,n=Object(F.a)(Object(F.a)({},a),{},Object(D.a)({},t.target.name,t.target.value));e.setState({address:n})},e.addressSelector=function(t){e.setState({selectedAddress:t.target.value,existingAddress:!0,newAddress:!1})},e.newAddressSelection=function(t){e.setState({selectedAddress:"newAddressId",existingAddress:!1,newAddress:!0})},e.addressSubmitHandler=function(t){t.preventDefault(),console.log(e.state.address);var a={userId:e.props.auth.user.userId,address:e.state.address};fetch("".concat(g,"/user/new-address"),{headers:{"Content-Type":"application/json","auth-token":e.props.auth.token},method:"POST",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){console.log("new address"),console.log(t),console.log("new address");var n=t.message.address;e.setState({isAddressConfirm:!0,address:Object(F.a)(Object(F.a)({},e.state.address),a.address),addresses:n,selectedAddress:n[n.length-1]._id})})).catch((function(e){console.log(e)}))},e.confirmDeliveryAddress=function(){e.setState({isAddressConfirm:!0})},e.confirmOrder=function(){e.setState({isOrderConfirm:!0})},e.selectPaymentOption=function(t){e.setState({selectedPaymentType:t.target.value})},e.submitOrder=Object(E.a)(f.a.mark((function t(){var a,n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.isOrderConfirm){t.next=2;break}return t.abrupt("return");case 2:if("cod"===e.state.selectedPaymentType){t.next=4;break}return t.abrupt("return");case 4:return a=e.props.cart.cartItem.map((function(e){return{product:e.product,price:e.price,quantity:e.quantity}})),t.prev=5,t.next=8,fetch("".concat(g,"/order/create"),{headers:{"Content-Type":"application/json","auth-token":e.props.auth.token},body:JSON.stringify({user:e.props.auth.user.userId,address:e.state.selectedAddress,order:a,paymentType:"COD",paymentStatus:"pending"}),method:"POST"});case 8:return n=t.sent,t.next=11,n.json();case 11:r=t.sent,201===n.status&&(e.props.clearCart(),e.props.history.push({pathname:"/thank-you",search:"?orderid="+r.message._id,state:r.message})),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[5,15]])}))),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated?this.getAddresses():this.props.getToken().then((function(t){t?e.getAddresses():e.props.history.push("/login")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t=this;return e=this.state.isAddressConfirm&&!this.state.newAddress?this.state.addresses.find((function(e){return e._id===t.state.selectedAddress})):this.state.address,r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"PlaceOrderWrapper"},r.a.createElement("div",{className:"DeliveryAddress"},r.a.createElement("div",{className:"Card"},r.a.createElement("p",{className:"CardText"},"Login ",this.props.auth.isAuthenticated?r.a.createElement("i",{className:"fa fa-check"}):null),r.a.createElement("p",{className:"CardText"},"Email: ",this.props.auth.user.email)),this.state.isAddressConfirm?r.a.createElement("div",{className:"Card"},r.a.createElement("p",{className:"CardText"},"Delivery Address ",this.state.isAddressConfirm?r.a.createElement("i",{className:"fa fa-check"}):null),r.a.createElement("p",null,r.a.createElement("span",null,"".concat(e.fullName," - ").concat(e.mobileNumber," - ")),r.a.createElement("span",null,"".concat(e.address,", ").concat(e.cityDistrictTown,", ").concat(e.state," - ").concat(e.pinCode)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Card"},r.a.createElement("h4",null,"Delivery Address"),this.state.addresses.length&&this.state.addresses.map((function(e){return r.a.createElement(be,{key:e._id,onAddressSelection:t.addressSelector,value:t.state.selectedAddress,address:e})})),this.state.existingAddress?r.a.createElement("div",{className:"DeliveryButtonContainer"},r.a.createElement("button",{onClick:this.confirmDeliveryAddress,className:"DeliveryAddressButton"},"Deliver Here")):null),r.a.createElement("div",{className:"Card"},r.a.createElement("div",null,r.a.createElement(ye,{name:"address",label:"Add new Address",value:this.state.selectedAddress,onChange:this.newAddressSelection})),this.state.newAddress?r.a.createElement(ve,{address:this.state.address,inputHandler:this.inputHandler,addressSubmitHandler:this.addressSubmitHandler}):null)),this.state.isOrderConfirm?r.a.createElement("div",{className:"Card"},r.a.createElement("p",{className:"CardText"},"Order Summary ",r.a.createElement("i",{className:"fa fa-check"}))):this.state.isAddressConfirm?r.a.createElement("div",{className:"Card"},r.a.createElement("h4",{className:"CardText"},"Order Summary "),this.props.cart.cartItem.map((function(e){return r.a.createElement("div",{key:e.product,style:{display:"flex",margin:"5px 0",alignItems:"center"}},r.a.createElement("div",{style:{width:"60px",height:"60px",overflow:"hidden",position:"relative"}},r.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%",position:"absolute",left:"50%",transform:"translateX(-50%)"},src:e.image,alt:""})),r.a.createElement("div",null,r.a.createElement("h5",null,e.name),r.a.createElement("h6",null,"Quantity : ",e.quantity),r.a.createElement("h6",null,"$",e.total)))})),r.a.createElement("button",{onClick:this.confirmOrder,className:"ContinueButton"},"Continue")):null,this.state.isOrderConfirm?r.a.createElement("div",{className:"Card"},r.a.createElement("h4",{className:"CardText"},"Payment Option"),r.a.createElement("ul",null,this.state.paymentTypes.map((function(e){return r.a.createElement("li",{className:"paymentType",key:e.id},r.a.createElement(ye,{key:e.id,name:"paymentType",label:e.label,value:e.value,onChange:t.selectPaymentOption}))}))),"cod"!==this.state.selectedPaymentType?r.a.createElement("p",{className:"ErrorMessage"},"Sorry, Only Cash on Delivery is available"):null,r.a.createElement("button",{className:"PaymentConfirm",onClick:this.submitOrder},"Confirm Order")):null),r.a.createElement(me,null))))}}]),a}(n.Component),Oe=Object(v.b)((function(e){return{auth:e.auth,cart:e.cart}}),(function(e){return{getToken:function(){return e(k())},clearCart:function(){return e((function(e){e({type:"CLEAR_CART",payload:null})}))}}}))(Ne),we=(a(65),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.location.search.split("?")[1].split("=")[1];return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"ThankyouPage"},r.a.createElement("h1",null,"Thank you for your order"),r.a.createElement("p",{className:"OrderId"},"Order id is: ",e.toLocaleUpperCase()),r.a.createElement("p",{className:"SmallText"},"You will receive an email confirmation shortly at email@gmail.com"))))}}]),a}(n.Component)),ke=(a(66),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={ordersList:[]},e.getOrders=function(){console.log(e.props.auth.isAuthenticated);var t=e.props.auth.token,a=e.props.auth.user.userId;fetch("".concat(g,"/order/getorders/").concat(a),{headers:{"Content-Type":"application/json","auth-token":t}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({ordersList:t.message})})).catch((function(e){console.log(e)}))},e.formatDate=function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())},e.getOrderTotal=function(t){var a=e.state.ordersList.find((function(e){return e._id===t})),n=0;return a.order.forEach((function(e){n+=e.price*e.quantity})),n},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated?this.getOrders():this.props.getToken().then((function(t){t?e.getOrders():e.props.history.push("/login")}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("br",null),r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"Card"},r.a.createElement("p",{className:"CardText"},"My Orders"),this.state.ordersList.map((function(t){return r.a.createElement("div",{key:t._id,className:"Order"},r.a.createElement("div",{className:"OrderHeader"},r.a.createElement("a",{href:"#"},t._id)),r.a.createElement("div",{className:"OrderDescription"},r.a.createElement("div",{className:"od1"},r.a.createElement("p",{className:"odtitle"},"Delivered Address"),r.a.createElement("p",null,"".concat(t.address.address," ").concat(t.address.cityDistrictTown," ").concat(t.address.state," - ").concat(t.address.pinCode))),r.a.createElement("div",{className:"od2"},r.a.createElement("p",{className:"odtitle"},"Payment Type"),r.a.createElement("a",{className:"odp"},t.paymentType)),r.a.createElement("div",{className:"od3"},r.a.createElement("p",{className:"odtitle"},"Payment Status"),r.a.createElement("a",{className:"odp"},t.paymentStatus))),r.a.createElement("div",null,t.order.map((function(e){return r.a.createElement("div",{key:e._id,style:{display:"flex",alignItems:"center",margin:"5px 0",borderBottom:"1px solid #cecece"}},r.a.createElement("div",{style:{width:"80px",height:"80px",overflow:"hidden",position:"relative"},className:"ImageContainer"},r.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%",position:"absolute",left:"50%",transform:"translateX(-50%)"},src:e.product.productPic[0].img})),r.a.createElement("div",null,r.a.createElement("p",{className:"odtitle"},e.product.name),r.a.createElement("div",{style:{fontSize:"14px",color:"#555",fontWeight:"bold"}},r.a.createElement("p",null,"Quantity: ",e.quantity),r.a.createElement("p",null,"$",e.price*e.quantity))))}))),r.a.createElement("div",{className:"OrderFooter"},r.a.createElement("p",null,"Ordered On ",r.a.createElement("span",null,e.formatDate(t.orderDate))),r.a.createElement("p",null,r.a.createElement("b",null,"Order Total ",r.a.createElement("span",null,"$",e.getOrderTotal(t._id))))))})))))}}]),a}(n.Component)),Ce=Object(v.b)((function(e){return{auth:e.auth}}),(function(e){return{getToken:function(){return e(k())}}}))(ke),je=Object(Z.c)({auth:ae,products:se,cart:Ee}),Ae=Object(Z.d)(je,Object(Z.a)(ee.a));window.store=Ae;var Te=function(){return r.a.createElement(v.a,{store:Ae},r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/login",component:R}),r.a.createElement(l.b,{path:"/signup",component:_}),r.a.createElement(l.b,{path:"/products/:category/:slug",component:le}),r.a.createElement(l.b,{path:"/products",component:P}),r.a.createElement(re,{path:"/cart",component:pe}),r.a.createElement(re,{path:"/place-order",component:Oe}),r.a.createElement(re,{path:"/thank-you",component:we}),r.a.createElement(re,{path:"/orders",component:Ce}),r.a.createElement(re,{path:"/addproduct",component:X}),r.a.createElement(re,{path:"/addcategory",component:J}),r.a.createElement(re,{path:"/addmanager",component:G}),r.a.createElement(l.b,{path:"/",component:P})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.bbaf5d80.chunk.js.map